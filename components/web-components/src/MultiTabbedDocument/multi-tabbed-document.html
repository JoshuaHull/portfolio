<div
  class="multi-tabbed-document"
  style="
    --multi-tabbed-document-cursor: {{#equal tabCount 1}}default{{else}}pointer{{/equal}};
    {{#equal variant "editor"}}
      --multi-tabbed-document-colour: white;
      --multi-tabbed-document-header-background-colour: #383C4A;
      --multi-tabbed-document-background-colour: #232830;
      --multi-tabbed-document-border-radius: 0;
      --multi-tabbed-document-padding: 0;
      --multi-tabbed-document-height: 100%;
    {{/equal}}
  "
>
  <div class="multi-tabbed-document-tabs">
    {{#each tabTitles}}
      {{#> tabbedDocumentHeader index=@index initialCurrentTab=../initialCurrentTab}}
        {{{../this}}}
      {{/tabbedDocumentHeader}}
    {{/each}}
  </div>
  {{#each tabContents}}
    {{#> tabbedDocument}}
      {{{this}}}
    {{/tabbedDocument}}
  {{/each}}
</div>

<style>
.multi-tabbed-document {
  position: relative;
  z-index: 0;
  display: grid;
  grid-template-areas:
    "tabs"
    "document"
  ;
  grid-template-rows: min-content auto;
}

.tabbed-document-header {
  padding-left: 1rem;
  padding-right: 1rem;
  padding-top: 0.25rem;
  width: min-content;
  white-space: nowrap;
}

.tabbed-document-content {
  width: fit-content;
}

.multi-tabbed-document-tabs {
  grid-area: tabs;
  display: flex;
  flex-direction: row;
}

.tabbed-document-header {
  color: var(--multi-tabbed-document-colour, black);
  border-top-right-radius: var(--multi-tabbed-document-border-radius, 0.5rem);
  border-top-left-radius: var(--multi-tabbed-document-border-radius, 0.5rem);
  background-color: var(--multi-tabbed-document-header-background-colour, darkkhaki);
  cursor: var(--multi-tabbed-document-cursor, pointer);
}

{{#for tabCount}}
  {{> selectedTabbedDocumentSelector tab=this}}
{{/for}}

.tabbed-document {
  grid-area: document;
  z-index: 0;
  opacity: 0%;
}

.tabbed-document-radio {
  display: none;
}

.tabbed-document-radio:checked + .tabbed-document-header {
  background-color: var(--multi-tabbed-document-background-colour, khaki);
}

.tabbed-document-content {
  background-color: var(--multi-tabbed-document-background-colour, khaki);
  color: var(--multi-tabbed-document-colour, black);
  padding: var(--multi-tabbed-document-padding, 1rem);
  border-top-right-radius: var(--multi-tabbed-document-border-radius, 0.5rem);
  border-bottom-left-radius: var(--multi-tabbed-document-border-radius, 0.5rem);
  border-bottom-right-radius: var(--multi-tabbed-document-border-radius, 0.5rem);
  height: var(--multi-tabbed-document-height, default);
}
</style>
